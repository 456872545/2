name: Build with 8-Core Runner

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  build:
    runs-on: ubuntu-latest-8-cores
    
    steps:
      - uses: actions/checkout@v3
      
      - name: Display runner specs
        run: |
          echo "Number of CPU cores:"
          nproc
          echo "Available RAM:"
          free -h
          echo "Disk space:"
          df -h
      
      - name: Example build
        run: |
          echo "Building with 8 cores..."
          # Sử dụng tất cả 8 cores cho build
          make -j8
      
      - name: Example test
        run: |
          echo "Testing with 8 cores..."
          pytest -n 8
